import Json'Decode { Decode }
import Json'Encode { Encode }
import Json'Value { Value }

import 'json'utility
import 'metric { Metric }

Serialize = \(m Metric) string {
  Encode(Value'New({string: Value "id": Value'New(m.Id)}))
}

Deserialize = \(s string) Metric | error {
  o = utility'Object(Decode(s)?)?

  Metric{
    Id: utility'String(utility'Field(o, "id")?)?,
  }
}
